<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* {
  box-sizing: border-box;
}
.menu {
  float:left;
  width:20%;
  text-align:center;
}
.menu a {
  background-color:#e5e5e5;
  padding:8px;
  margin-top:7px;
  display:block;
  width:100%;
  color:black;
}
.main {
  float:left;
  width:60%;
  padding:0 20px;
}
.right {
  background-color:#e5e5e5;
  float:left;
  width:20%;
  padding:15px;
  margin-top:7px;
  text-align:center;
}

select {
  margin: 1%;
  width: 70%;
  padding: 5px 25px 5px 5px;
  font-size: 16px;
  border: 1px solid #CCC;
  height: 34px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

body {
  font-family:Verdana;
  color:#000000;
}

table {
  border-collapse: collapse;
}

@media only screen and (max-width:620px) {
  /* For mobile phones: */
  .menu, .main, .right {
    width:100%;
  }
}
</style>
<script src="globals.js"></script>
</head>
<body onload="populateDropDownLists(heroes);">

<div style="background-color:#e5e5e5;padding:15px;text-align:center;">
  <h1>WHQ</h1>
</div>

<div style="overflow:auto">
  <div class="menu">
    <a href="#">Link 1</a>
    <a href="#">Link 2</a>
    <a href="#">Link 3</a>
    <a href="#">Link 4</a>
  </div>

  <div class="main">
  <h2 id="selectHeroes">SELECT HEROES</h2>
  Slot 0: <select id="heroSelect0" onchange="loadHero(0)"></select><br>
  Slot 1: <select id="heroSelect1" onchange="loadHero(1)"></select><br>
  Slot 2: <select id="heroSelect2" onchange="loadHero(2)"></select><br>
  Slot 3: <select id="heroSelect3" onchange="loadHero(3)"></select><br>
  <p align="right"><a href="#destinyPhase">>Destiny Phase</a></p>
  <br><hr><br>

  <h2 id="destinyPhase">DESTINY PHASE</h2>
  <p>Perform the destiny phase steps: ....</p>
  <p align="right"><a href="#heroSlot0">>First hero</a></p>
  <br><hr><br>


  <h2 id="heroSlot0" onclick="showTraits();">Slot 0: Hero</h2>
  <script>
    function showTraits(){
      alert(allHeroes['members'][(document.getElementById("heroSelect0").selectedIndex)]['traits']);
    }
  </script>
  <table style="border-style:none;margin-left:auto;margin-right:auto;" width=80%>
    <tr>
      <td style="text-align: center;" height=50px><img id="marker0" src="die.jpg" onclick="switchMarker('marker0',0)"></td>
      <td style="text-align: center;" height=50px><img id="marker1" src="die.jpg" onclick="switchMarker('marker1',1)"></td>
      <td style="text-align: center;" height=50px><img id="marker2" src="die.jpg" onclick="switchMarker('marker2',2)"></td>
      <td style="text-align: center;" height=50px><img id="marker3" src="die.jpg" onclick="switchMarker('marker3',3)"></td>
    </tr>
  </table>

  <style>
    table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
  }
  </style>
  <table style="width:100%">
    <tr>
      <th style="width:33%">MOVE</th>
      <th style="width:33%">SAVE</th>
      <th style="width:33%">AGILITY</th>
    </tr>
    <tr>
      <td id="heroMove0" align="center">3</td>
      <td id="heroSave0" align="center">4+</td>
      <td id="heroAgility0" align="center">6+</td>
    </tr>
  </table>
  <script>
    // Load hero stats based on name in drop down list.
    function loadHero(slot){
      switch (slot) {
        case 0:
          var x = document.getElementById("heroSelect0").selectedIndex;
          document.getElementById("heroMove0").innerHTML = (allHeroes['members'][x]['move']);
          document.getElementById("heroSave0").innerHTML = (allHeroes['members'][x]['save']);
          document.getElementById("heroAgility0").innerHTML = (allHeroes['members'][x]['agility']);
          // Weapon 1
          document.getElementById("heroFirstWeaponName0").innerHTML = (allHeroes['members'][x]['weapons'][0]['name']);
          document.getElementById("heroFirstWeaponRange0").innerHTML = (allHeroes['members'][x]['weapons'][0]['range']);
          document.getElementById("heroFirstWeaponHit0").innerHTML = (allHeroes['members'][x]['weapons'][0]['hit']);
          document.getElementById("heroFirstWeaponDamage0").innerHTML = (allHeroes['members'][x]['weapons'][0]['damage']);
          // Weapon 2
          document.getElementById("heroSecondWeaponName0").innerHTML = (allHeroes['members'][x]['weapons'][1]['name']);
          document.getElementById("heroSecondWeaponRange0").innerHTML = (allHeroes['members'][x]['weapons'][1]['range']);
          document.getElementById("heroSecondWeaponHit0").innerHTML = (allHeroes['members'][x]['weapons'][1]['hit']);
          document.getElementById("heroSecondWeaponDamage0").innerHTML = (allHeroes['members'][x]['weapons'][1]['damage']);
          // Weapon 3
          document.getElementById("heroThirdWeaponName0").innerHTML = (allHeroes['members'][x]['weapons'][2]['name']);
          document.getElementById("heroThirdWeaponRange0").innerHTML = (allHeroes['members'][x]['weapons'][2]['range']);
          document.getElementById("heroThirdWeaponHit0").innerHTML = (allHeroes['members'][x]['weapons'][2]['hit']);
          document.getElementById("heroThirdWeaponDamage0").innerHTML = (allHeroes['members'][x]['weapons'][2]['damage']);
          // Reknown boost
          document.getElementById("reknownBoost0").innerHTML = allHeroes['members'][x]['boost'];
          document.getElementById("heroSlot0").innerHTML = allHeroes['members'][x]['name'];
          var a = document.getElementsByClassName("skillName");
          var b = document.getElementsByClassName("skillType");
          a[0].innerHTML = allHeroes['members'][x]['skills'][0]['name'];
          b[0].innerHTML = allHeroes['members'][x]['skills'][0]['type'];
          a[1].innerHTML = allHeroes['members'][x]['skills'][1]['name'];
          b[1].innerHTML = allHeroes['members'][x]['skills'][1]['type'];

          break;
        default:

      }
    }

    // Initial state of the markers for hero 1:
    var markerState = [0,0,0,0];

    function switchMarker(target,offset){
      switch (markerState[offset]) {
        case 0:
          document.getElementById(target).src = "stun.jpg";
          markerState[offset]++;
          break;
        case 1:
          document.getElementById(target).src = "wound.jpg";
          markerState[offset]++;
          break;
        case 2:
          document.getElementById(target).src = "grievousWound.jpg";
          markerState[offset]++;
          break;
        case 3:
          document.getElementById(target).src = "die.jpg";
          markerState[offset]=0;
          break;
        default:
      }
    }
  </script>

  <br>

  <table width=100%>
    <tr>
      <th align="center">WEAPON ACTION</th>
      <th align="center">Rng</th>
      <th align="center">Hit</th>
      <th align="center">Dam</th>
    </tr>
    <tr>
      <td id="heroFirstWeaponName0" align="center"></td>
      <td id="heroFirstWeaponRange0"align="center"></td>
      <td id="heroFirstWeaponHit0" align="center"></td>
      <td id="heroFirstWeaponDamage0" align="center"></td>
    </tr>
    <tr>
      <td id="heroSecondWeaponName0" align="center"></td>
      <td id="heroSecondWeaponRange0"align="center"></td>
      <td id="heroSecondWeaponHit0" align="center"></td>
      <td id="heroSecondWeaponDamage0" align="center"></td>
    </tr>
    <tr>
      <td id="heroThirdWeaponName0" align="center"></td>
      <td id="heroThirdWeaponRange0"align="center"></td>
      <td id="heroThirdWeaponHit0" align="center"></td>
      <td id="heroThirdWeaponDamage0" align="center"></td>
    </tr>
  </table>
    Reknown:
    <select id="reknown0">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>

    </select>
    <p id="reknownBoost0">!!</p>


  <table class="skills" width=100%>
    <tr>
      <th align="left" width=70%><a href="#learnSkill" onclick="setFocusHero(0);">SKILL</a></th>
      <th align="left" width=20%>TYPE</th>
      <th align="center" width=10%></th>
    </tr>
    <tr>
      <td class="skillName" align="left"></td>
      <td class="skillType" align="left"></td>
      <td align="center"></td>
    </tr>
    <tr>
      <td class="skillName" align="left"></td>
      <td class="skillType" align="left"></td>
      <td align="center"></td>
    </tr>
    <tr>
      <td class="skillName" align="left"></td>
      <td class="skillType" align="left"></td>
      <td align="center"><img src="delete.png" height=20 width=20 onclick="deleteSkill(2)"></a></td>
    </tr>
    <tr>
      <td class="skillName" align="left"></td>
      <td class="skillType" align="left"></td>
      <td align="center"><img src="delete.png" height=20 width=20 onclick="deleteSkill(3)"></a></td>
    </tr>
    <tr>
      <td class="skillName" align="left"></td>
      <td class="skillType" align="left"></td>
      <td align="center"><img src="delete.png" height=20 width=20 onclick="deleteSkill(4)"></a></td>
    </tr>
    <tr>
      <td class="skillName" align="left"></td>
      <td class="skillType" align="left"></td>
      <td align="center"><img src="delete.png" height=20 width=20 onclick="deleteSkill(5)"></a></td>
    </tr>
  </table>
  <script>
    function setFocusHero(index){
      switch (index) {
        case 0:
          focusHero = heroSelect0.value
          break;
        case 1:
          focusHero = heroSelect1.value
          break;
        case 2:
          focusHero = heroSelect2.value
          break;
        case 3:
          focusHero = heroSelect3.value
          break;
        default:
      }
      var x = document.getElementsByClassName("focusHero");
      x[0].innerHTML = focusHero;
      focusHeroSlot = index;
    }

    function deleteSkill(index){
      // confirm("Really delete skill " + x +"?");
      var x = document.getElementsByClassName("skillName");
      var y = document.getElementsByClassName("skillType");
      if (confirm("Unlearn " + (x[index].innerHTML) + "?")) {
        x[index].innerHTML = "";
        y[index].innerHTML = "";
      }

    }
  </script>

  <br>

  <table class="items" width=100%>
    <tr>
      <th align="left" width=70%><a href="#getItem" onclick="setFocusHero(0);">ITEM</a></th>
      <th align="left" width=20%>TYPE</th>
      <th align="center" width=10%></th>
    </tr>
    <tr>
      <td class="itemName" align="left"></td>
      <td class="itemType" align="left"></td>
      <td align="center"><img src="delete.png" height=20 width=20 onclick="deleteItem(0)"></a></td>
    </tr>
    <tr>
      <td class="itemName" align="left"></td>
      <td class="itemType" align="left"></td>
      <td align="center"><img src="delete.png" height=20 width=20 onclick="deleteItem(1)"></a></td>
    </tr>
    <tr>
      <td class="itemName" align="left"></td>
      <td class="itemType" align="left"></td>
      <td align="center"><img src="delete.png" height=20 width=20 onclick="deleteItem(2)"></a></td>
    </tr>
    <tr>
      <td class="itemName" align="left"></td>
      <td class="itemType" align="left"></td>
      <td align="center"><img src="delete.png" height=20 width=20 onclick="deleteItem(3)"></a></td>
    </tr>
  </table>

<p align="right"><a href="#heroSlot1">>Next hero</a></p>
<br><hr><br>

<br>
<h2 id="learnSkill">Learn New Skill</h2>
<p class = "focusHero"> </p>
<select id="skill">

</select><button onclick="learnSkill();">Learn!</button>
<script>
  function learnSkill(){
    // Search for empty skill slot
    var index = focusHeroSlot * 6 // Foward to focus hero's first skill.
    var x = document.getElementsByClassName("skillName");
    var y = document.getElementsByClassName("skillType");
    for (var i = index; i < index+6; i++) {
      if (x[i].innerHTML == "") { break; }
    }
    if (i == index+6){
      alert ("Error: This hero is already at max skill capacity!");
    } else {
      x[i].innerHTML = allSkills['skills'][(document.getElementById("skill").selectedIndex)]['name'];
      y[i].innerHTML = allSkills['skills'][(document.getElementById("skill").selectedIndex)]['type'];
    }

    window.history.back();
  }
  function deleteSkill(index){
    var x = document.getElementsByClassName("skillName");
    var y = document.getElementsByClassName("skillType");
    if (confirm("Remove " + (x[index].innerHTML) + "?")) {
      x[index].innerHTML = "";
      y[index].innerHTML = "";
    }

  }

</script>


<br><hr><br>

<br>
<h2 id="getItem">Get New Item</h2>
<p class = "focusHero"> </p>
<select id="itemSelect"></select><button onclick="getItem();">Get!</button>
<script>
  function getItem(){
    // Search for empty item slot
    var index = focusHeroSlot * 4 // Foward to focus hero's first item.
    var x = document.getElementsByClassName("itemName");
    var y = document.getElementsByClassName("itemType");
    for (var i = index; i < index+4; i++) {
      if (x[i].innerHTML == "") { break; }
    }
    if (i == index+4){
      alert ("Error: This hero is already at max item capacity!");
    } else {
      x[i].innerHTML = allItems['items'][(document.getElementById("itemSelect").selectedIndex)]['name'];
      y[i].innerHTML = allItems['items'][(document.getElementById("itemSelect").selectedIndex)]['type'];
    }

    window.history.back();
  }
</script>



<p id="demow"></p>

<br><br><br><br><br><br>

<script>

const allHeroes =
  {
  "origin" : "Silver Tower",
  "members" : [
    {
    "name" : "Fyreslayer Doomseeker",
    "move" : 3,
    "save" : "4+",
    "agility" : "6+",
    "traits" : "Unrelenting and Bladeborn",
    "boost" : "If you suffer two or more wounds in a phase, gain 2 reknown.",
    "weapons": [
      {
      "name" : "Runic War-iron (1+)",
      "range" : "C",
      "hit" : "2+",
      "damage" : 1
      },
      {
      "name" : "Doomseeker Axe (5+)",
      "range" : "C",
      "hit" : "3+",
      "damage" : "D3"
      },
      {
      "name" : "--",
      "range" : "--",
      "hit" : "--",
      "damage" : "--"
      }
    ],
    "skills" : [
      {
      "name" : "Runic Power",
      "type" : "Hero"
      },
      {
      "name" : "Throwing Axe",
      "type" : "Hero"
      }]
    },
    {
    "name" : "Knight-Questor",
    "move" : 3,
    "save" : "4+",
    "agility" : "5+",
    "traits" : "Celestial and Unrelenting",
    "boost" : "If any of your save rolls scores a 6, gain 1 reknown.",
    "weapons": [
      {
      "name" : "Warblade (1+)",
      "range" : "C",
      "hit" : "3+",
      "damage" : 2
      },
      {
      "name" : "Thundercharged Strike (6+)",
      "range" : "C",
      "hit" : "3+",
      "damage" : 3
      },
      {
      "name" : "--",
      "range" : "--",
      "hit" : "--",
      "damage" : "--"
      }
    ],
    "skills" : [
      {
      "name" : "Challenge (2+)",
      "type" : "Hero"
      },
      {
      "name" : "Guard Stance (3+)",
      "type" : "Save"
      }]
    },
    {
    "name" : "Mistweaver Saih",
    "move" : 4,
    "save" : "6+",
    "agility" : "3+",
    "traits" : "Arcane and Swift",
    "boost" : "If the attack roll for an Illusory Assault is 6, gain 1 reknown.",
    "weapons": [
      {
      "name" : "Aelven Blade (1+)",
      "range" : "C",
      "hit" : "4+",
      "damage" : 1
      },
      {
      "name" : "Bedazzle (6+)",
      "range" : "A",
      "hit" : "3+",
      "damage" : "Stun"
      },
      {
      "name" : "Illusory Assault (3+)",
      "range" : "M",
      "hit" : "3+",
      "damage" : "D3"
      }
      ],
      "skills" : [
        {
        "name" : "Glimmermist (3+)",
        "type" : "Save"
        },
        {
        "name" : "--",
        "type" : "--"
        }]
      },
    {
      "name" : "Tenebrael Shard",
      "move" : 4,
      "save" : "5+",
      "agility" : "1+",
      "traits" : "Bladeborn & Swift",
      "boost" : "If you wound 3 adversaries in your turn, gain 2 reknown.",
      "weapons": [
        {
        "name" : "Bladed Barbs (1+)",
        "range" : "C",
        "hit" : "2+",
        "damage" : 1
        },
        {
        "name" : "Reaper Gauntlets (4+)",
        "range" : "C",
        "hit" : "3+",
        "damage" : "D3"
        },
        {
        "name" : "--",
        "range" : "--",
        "hit" : "--",
        "damage" : "--"
        }
      ],
      "skills" : [
        {
        "name" : "Graceful Killer",
        "type" : "Hero"
        },
        {
        "name" : "Shadowstrike(6+)",
        "type" : "Hero"
        }
      ]
    }
    ] // Afsluttes members
  } // Afsluttes allheroes



  const allSkills = {"skills":[
  {"name":"One Step Ahead","type":"Behavior" },
  {"name":"Wardancer","type":"Hero" },
  {"name":"Battlewrath","type":"Hero" },
  {"name":"Vengeful Strike","type":"Save" },
  {"name":"Wellspring","type":"Action" },
  {"name":"Fires of Battle","type":"Action" }]};

  const allItems = {"items":[
  {"name":"Unseen Amulet","type":"Adversary" },
  {"name":"Ring of Celerity","type":"Hero" },
  {"name":"Warpstone Bomb","type":"Hero" },
  {"name":"Sorcerous Shield","type":"Save" },
  {"name":"Death Rune","type":"Hero" },
  {"name":"Casket of Azyr","type":"Action" }]};


  document.getElementById("demow").innerHTML = allItems['items'][0]['name'];



</script>



  <br>
  <br>
  <br>
  <br>
  <br>


</div>
    <script>


function populateDropDownLists(optionSource){
  // Get the heroes:
  for (var i=0; i < heroesTotal;++i){
    addOption('heroSelect0', allHeroes['members'][i]['name']);
  }
  // Get the skills:
  for (var i=0; i < skillsTotal;++i){
    addOption('skill', allSkills['skills'][i]['name']);
  }
  // Get the items:
  for (var i=0; i < itemsTotal;++i){
    addOption('itemSelect', allItems['items'][i]['name']);
  }

  // Force init of the heroes in the default drop down lists.
  loadHero(0);
  loadHero(1);
  loadHero(2);
  loadHero(3);

}

      // function populateDropDownLists(optionSource){
      //   for (var i=0; i < optionSource.length;++i){
      //     addOption('heroSelect0', optionSource[i]);
      //   }
      // }
      function addOption(element,text){
        var x = document.getElementById(element);
        var option = document.createElement("option");
        option.text = text;
        x.add(option);
      }
    </script>

  <div class="right">
    <h2>About</h2>
    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p>
  </div>
</div>

<div style="background-color:#e5e5e5;text-align:center;padding:10px;margin-top:7px;">© copyright w3schools.com</div>

</body>
</html>
